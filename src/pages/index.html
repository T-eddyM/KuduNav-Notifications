<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notification API Documentation</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background-color: #f9f9f9; }
        h1, h2 { color: #333; }
        pre { background-color: #282c34; color: #ffffff; padding: 10px; border-radius: 5px; overflow: auto; }
        code { display: block; padding: 5px; border-radius: 4px; }
        .key { color: #61dafb; }
        .string { color: #e06c75; }
        .number { color: #d19a66; }
        .boolean { color: #56b6c2; }
        .comment { color: #5c6370; }
        .endpoint { margin-bottom: 20px; border: 1px solid #ddd; border-radius: 5px; padding: 10px; background-color: #fff; }
    </style>
</head>
<body>

    <h1>Notification API Documentation</h1>
    <p>This document describes the available endpoints for the Notification API.</p>
    <p><strong>Authentication:</strong> All endpoints require a valid JWT token to be included in the Authorization header.</p>
    <p><strong>Example:</strong> <code>Authorization: Bearer YOUR_JWT_TOKEN</code></p>

    <div class="endpoint">
        <h2>1. Create a Notification</h2>
        <pre><code>POST /create/notification</code></pre>
        <p><strong>Request Body:</strong></p>
        <pre><code>{
    <span class="key">"targetedUsers"</span>: [<span class="string">"66fb5669142619b4a21cb7e7"</span>],           <span class="comment">// array of strings</span>
    <span class="key">"message"</span>: <span class="string">"Thanks for joining us!"</span>,        <span class="comment">// string</span>
    <span class="key">"type"</span>: <span class="string">"Welcome"</span>,                         <span class="comment">// string</span>
    <span class="key">"scheduleTime"</span>: <span class="string">"2024-10-01T01:59:49.074+00:00"</span> <span class="comment">// string (ISO 8601)</span>
}</code></pre>
        <p><strong>Response:</strong></p>
        <pre><code>201 Created
{
    <span class="key">"_id"</span>: <span class="string">"31be96b8-477b-4c59-bea6-5acbe24266e7"</span>,  <span class="comment">// string (UUID format)</span>
    <span class="key">"targetedUsers"</span>: [<span class="string">"66fb5669142619b4a21cb7e7"</span>],  <span class="comment">// array of strings</span>
    <span class="key">"type"</span>: <span class="string">"Welcome"</span>,                           <span class="comment">// string</span>
    <span class="key">"message"</span>: <span class="string">"Thanks for joining us, let's get moving!"</span>, <span class="comment">// string</span>
    <span class="key">"status"</span>: <span class="string">"scheduled"</span>,                       <span class="comment">// string</span>
    <span class="key">"scheduleTime"</span>: <span class="string">"2024-10-01T01:59:49.074+00:00"</span>,  <span class="comment">// string (ISO 8601)</span>
    <span class="key">"createdAt"</span>: <span class="string">"2024-10-01T01:54:49.853+00:00"</span>,  <span class="comment">// string (ISO 8601)</span>
    <span class="key">"__v"</span>: <span class="number">0</span>                                         <span class="comment">// number</span>
}</code></pre>
    </div>

    <div class="endpoint">
        <h2>2. Get a Notification by ID</h2>
        <pre><code>GET /notifications/:id</code></pre>
        <p><strong>Response:</strong></p>
        <pre><code>200 OK
{
    <span class="key">"_id"</span>: <span class="string">"string"</span>,                          <span class="comment">// string (UUID)</span>
    <span class="key">"targetedUsers"</span>: [<span class="string">"string"</span>],             <span class="comment">// array of strings</span>
    <span class="key">"message"</span>: <span class="string">"string"</span>,                    <span class="comment">// string</span>
    <span class="key">"type"</span>: <span class="string">"string"</span>,                       <span class="comment">// string</span>
    <span class="key">"status"</span>: <span class="string">"string"</span>,                     <span class="comment">// string</span>
    <span class="key">"scheduleTime"</span>: <span class="string">"string"</span>,               <span class="comment">// string (ISO 8601)</span>
    <span class="key">"createdAt"</span>: <span class="string">"string"</span>,                  <span class="comment">// string (ISO 8601)</span>
    <span class="key">"__v"</span>: <span class="number">0</span>                                 <span class="comment">// number</span>
}</code></pre>
    </div>

    <div class="endpoint">
        <h2>3. Get All Notifications for a Targeted User</h2>
        <pre><code>GET /notifications/user/:userId</code></pre>
        <p><strong>Response:</strong></p>
        <pre><code>200 OK
[
    {
        <span class="key">"_id"</span>: <span class="string">"string"</span>,                      <span class="comment">// string (UUID)</span>
        <span class="key">"targetedUsers"</span>: [<span class="string">"string"</span>],             <span class="comment">// array of strings</span>
        <span class="key">"message"</span>: <span class="string">"string"</span>,                <span class="comment">// string</span>
        <span class="key">"type"</span>: <span class="string">"string"</span>,                   <span class="comment">// string</span>
        <span class="key">"status"</span>: <span class="string">"string"</span>,                 <span class="comment">// string</span>
        <span class="key">"scheduleTime"</span>: <span class="string">"string"</span>,           <span class="comment">// string (ISO 8601)</span>
        <span class="key">"createdAt"</span>: <span class="string">"string"</span>,              <span class="comment">// string (ISO 8601)</span>
        <span class="key">"__v"</span>: <span class="number">0</span>                           <span class="comment">// number</span>
    }
]</code></pre>
    </div>

    <div class="endpoint">
        <h2>4. Update a Notification</h2>
        <pre><code>POST /notifications/:id</code></pre>
        <p><strong>Request Body:</strong></p>
        <pre><code>{
    <span class="key">"message"</span>: <span class="string">"Updated message"</span>,            <span class="comment">// string</span>
    <span class="key">"type"</span>: <span class="string">"Update"</span>,                     <span class="comment">// string</span>
    <span class="key">"scheduleTime"</span>: <span class="string">"2024-10-01T01:59:49.074+00:00"</span> <span class="comment">// string (ISO 8601)</span>
}</code></pre>
        <p><strong>Response:</strong></p>
        <pre><code>200 OK
{
    <span class="key">"_id"</span>: <span class="string">"string"</span>,                       <span class="comment">// string (UUID)</span>
    <span class="key">"targetedUsers"</span>: [<span class="string">"string"</span>],             <span class="comment">// array of strings</span>
    <span class="key">"message"</span>: <span class="string">"string"</span>,                 <span class="comment">// string</span>
    <span class="key">"type"</span>: <span class="string">"string"</span>,                    <span class="comment">// string</span>
    <span class="key">"scheduleTime"</span>: <span class="string">"string"</span>,              <span class="comment">// string (ISO 8601)</span>
    <span class="key">"createdAt"</span>: <span class="string">"string"</span>,                 <span class="comment">// string (ISO 8601)</span>
    <span class="key">"__v"</span>: <span class="number">0</span>                                <span class="comment">// number</span>
}</code></pre>
    </div>

    <div class="endpoint">
        <h2>5. Delete a Notification</h2>
        <pre><code>DELETE /notifications/:id</code></pre>
        <p><strong>Response:</strong></p>
        <pre><code>200 OK
{
    <span class="key">"message"</span>: <span class="string">"Notification deleted successfully"</span> <span class="comment">// string</span>
}</code></pre>
    </div>

    <div class="endpoint">
        <h2>6. Mark a Notification as Sent</h2>
        <pre><code>POST /notifications/:id/sent</code></pre>
        <p><strong>Response:</strong></p>
        <pre><code>200 OK
{
    <span class="key">"_id"</span>: <span class="string">"string"</span>,                      <span class="comment">// string (UUID)</span>
    <span class="key">"targetedUsers"</span>: [<span class="string">"string"</span>],             <span class="comment">// array of strings</span>
    <span class="key">"message"</span>: <span class="string">"string"</span>,                <span class="comment">// string</span>
    <span class="key">"type"</span>: <span class="string">"string"</span>,                   <span class="comment">// string</span>
    <span class="key">"scheduleTime"</span>: <span class="string">"string"</span>,           <span class="comment">// string (ISO 8601)</span>
    <span class="key">"status"</span>: <span class="string">"sent"</span>                      <span class="comment">// string</span>
}</code></pre>
    </div>

    <div class="endpoint">
        <h2>7. Mark a Notification as Read</h2>
        <pre><code>POST /notifications/:id/read</code></pre>
        <p><strong>Response:</strong></p>
        <pre><code>200 OK
{
    <span class="key">"_id"</span>: <span class="string">"string"</span>,                      <span class="comment">// string (UUID)</span>
    <span class="key">"targetedUsers"</span>: [<span class="string">"string"</span>],             <span class="comment">// array of strings</span>
    <span class="key">"message"</span>: <span class="string">"string"</span>,                <span class="comment">// string</span>
    <span class="key">"type"</span>: <span class="string">"string"</span>,                   <span class="comment">// string</span>
    <span class="key">"scheduleTime"</span>: <span class="string">"string"</span>,           <span class="comment">// string (ISO 8601)</span>
    <span class="key">"status"</span>: <span class="string">"read"</span>                       <span class="comment">// string</span>
}</code></pre>
    </div>

    <div class="endpoint">
        <h2>8. Register Device for Push Notifications</h2>
        <pre><code>POST /users/register/device</code></pre>
        <p><strong>Request Body:</strong></p>
        <pre><code>{
    <span class="key">"userId"</span>: <span class="string">"user1"</span>,                      <span class="comment">// string</span>
    <span class="key">"deviceToken"</span>: <span class="string">"device123"</span>,         <span class="comment">// string</span>
    <span class="key">"deviceType"</span>: <span class="string">"iOS"</span>                 <span class="comment">// string</span>
}</code></pre>
        <p><strong>Response:</strong></p>
        <pre><code>200 OK
{
    <span class="key">"message"</span>: <span class="string">"Device registered successfully"</span> <span class="comment">// string</span>
}</code></pre>
    </div>

    <div class="endpoint">
        <h2>9. Get Device by User ID</h2>
        <pre><code>GET /users/device/:userId</code></pre>
        <p><strong>Response:</strong></p>
        <pre><code>200 OK
{
    <span class="key">"_id"</span>: <span class="string">"9a522336-443a-44b7-aebe-97658e1133a1"</span>,  <span class="comment">// string (UUID)</span>
    <span class="key">"userId"</span>: <span class="string">"user1"</span>,                     <span class="comment">// string</span>
    <span class="key">"deviceToken"</span>: <span class="string">"device123"</span>,         <span class="comment">// string</span>
    <span class="key">"deviceType"</span>: <span class="string">"iOS"</span>                 <span class="comment">// string</span>
}</code></pre>
    </div>

    <div class="endpoint">
        <h2>10. Delete Device</h2>
        <pre><code>DELETE /users/remove/device/:id</code></pre>
        <p><strong>Response:</strong></p>
        <pre><code>200 OK
{
    <span class="key">"message"</span>: <span class="string">"Device deleted successfully"</span> <span class="comment">// string</span>
}</code></pre>
    </div>

    <div class="endpoint">
        <h2>11. Send Alert Notification</h2>
        <pre><code>POST /notification/alert</code></pre>
        <p><strong>Description:</strong> This endpoint is used to send alert notifications to targeted users.</p>
        <p><strong>Request Body:</strong></p>
        <pre><code>{
        <span class="key">"message"</span>: <span class="string">"Your alert message here."</span>,  <span class="comment">// string</span>
        <span class="key">"type"</span>: <span class="string">"AlertType"</span>                  <span class="comment">// string</span>
    }</code></pre>
        <p><strong>Response:</strong></p>
        <pre><code>201 Created
    {
        <span class="key">"_id"</span>: <span class="string">"unique-notification-id"</span>,  <span class="comment">// string (UUID format)</span>
        <span class="key">"targetedUsers"</span>: [<span class="string">"userId1", "userId2"</span>],  <span class="comment">// array of strings</span>
        <span class="key">"message"</span>: <span class="string">"Your alert message here."</span>,  <span class="comment">// string</span>
        <span class="key">"type"</span>: <span class="string">"AlertType"</span>,                  <span class="comment">// string</span>
        <span class="key">"status"</span>: <span class="string">"scheduled"</span>,              <span class="comment">// string</span>
        <span class="key">"scheduleTime"</span>: <span class="string">"2024-10-01T01:59:49.074+00:00"</span>,  <span class="comment">// string (ISO 8601)</span>
        <span class="key">"createdAt"</span>: <span class="string">"2024-10-01T01:54:49.853+00:00"</span>,  <span class="comment">// string (ISO 8601)</span>
        <span class="key">"__v"</span>: <span class="number">0</span>                               <span class="comment">// number</span>
    }</code></pre>
        <p><strong>Errors:</strong></p>
        <pre><code>400 Bad Request
    {
        <span class="key">"message"</span>: <span class="string">"At least one attribute missing"</span> <span class="comment">// string</span>
    }</code></pre>
        <pre><code>404 Not Found
    {
        <span class="key">"message"</span>: <span class="string">"Failed creating notification"</span> <span class="comment">// string</span>
    }</code></pre>
    </div>
    

</body>
</html>
